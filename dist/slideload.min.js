+function(t,e,n){var o=o||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);n!==-1&&t.splice(n,1)},update:function(e,n){if(0===t.length)return!1;var r=0;for(e=void 0!==e?e:o.now();r<t.length;)t[r].update(e)||n?r++:t.splice(r,1);return!0}}}();"undefined"==typeof t&&"undefined"!=typeof process?o.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof t&&void 0!==t.performance&&void 0!==t.performance.now?o.now=t.performance.now.bind(t.performance):void 0!==Date.now?o.now=Date.now:o.now=function(){return(new Date).getTime()},o.Tween=function(t){var e,n=t,r={},i={},s={},a=1e3,l=0,u=!1,c=!1,p=!1,f=0,d=null,h=o.Easing.Linear.None,v=o.Interpolation.Linear,m=[],g=null,y=!1,E=null,T=null,H=null;this.to=function(t,e){return i=t,void 0!==e&&(a=e),this},this.start=function(t){o.add(this),c=!0,y=!1,d=void 0!==t?t:o.now(),d+=f;for(var e in i){if(i[e]instanceof Array){if(0===i[e].length)continue;i[e]=[n[e]].concat(i[e])}void 0!==n[e]&&(r[e]=n[e],r[e]instanceof Array==!1&&(r[e]*=1),s[e]=r[e]||0)}return this},this.stop=function(){return c?(o.remove(this),c=!1,null!==H&&H.call(n,n),this.stopChainedTweens(),this):this},this.end=function(){return this.update(d+a),this},this.stopChainedTweens=function(){for(var t=0,e=m.length;t<e;t++)m[t].stop()},this.delay=function(t){return f=t,this},this.repeat=function(t){return l=t,this},this.repeatDelay=function(t){return e=t,this},this.yoyo=function(t){return u=t,this},this.easing=function(t){return h=t,this},this.interpolation=function(t){return v=t,this},this.chain=function(){return m=arguments,this},this.onStart=function(t){return g=t,this},this.onUpdate=function(t){return E=t,this},this.onComplete=function(t){return T=t,this},this.onStop=function(t){return H=t,this},this.update=function(t){var o,c,H;if(t<d)return!0;y===!1&&(null!==g&&g.call(n,n),y=!0),c=(t-d)/a,c=c>1?1:c,H=h(c);for(o in i)if(void 0!==r[o]){var L=r[o]||0,O=i[o];O instanceof Array?n[o]=v(O,H):("string"==typeof O&&(O="+"===O.charAt(0)||"-"===O.charAt(0)?L+parseFloat(O):parseFloat(O)),"number"==typeof O&&(n[o]=L+(O-L)*H))}if(null!==E&&E.call(n,H),1===c){if(l>0){isFinite(l)&&l--;for(o in s){if("string"==typeof i[o]&&(s[o]=s[o]+parseFloat(i[o])),u){var A=s[o];s[o]=i[o],i[o]=A}r[o]=s[o]}return u&&(p=!p),d=void 0!==e?t+e:t+f,!0}null!==T&&T.call(n,n);for(var I=0,Y=m.length;I<Y;I++)m[I].start(d+a);return!1}return!0}},o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-n.cos(t*n.PI/2)},Out:function(t){return n.sin(t*n.PI/2)},InOut:function(t){return.5*(1-n.cos(n.PI*t))}},Exponential:{In:function(t){return 0===t?0:n.pow(1024,t-1)},Out:function(t){return 1===t?1:1-n.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*n.pow(1024,t-1):.5*(-n.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-n.sqrt(1-t*t)},Out:function(t){return n.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(n.sqrt(1-t*t)-1):.5*(n.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-n.pow(2,10*(t-1))*n.sin(5*(t-1.1)*n.PI)},Out:function(t){return 0===t?0:1===t?1:n.pow(2,-10*t)*n.sin(5*(t-.1)*n.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*n.pow(2,10*(t-1))*n.sin(5*(t-1.1)*n.PI):.5*n.pow(2,-10*(t-1))*n.sin(5*(t-1.1)*n.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*o.Easing.Bounce.In(2*t):.5*o.Easing.Bounce.Out(2*t-1)+.5}}},o.Interpolation={Linear:function(t,e){var r=t.length-1,i=r*e,s=n.floor(i),a=o.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],i):e>1?a(t[r],t[r-1],r-i):a(t[s],t[s+1>r?r:s+1],i-s)},Bezier:function(t,e){for(var r=0,i=t.length-1,s=n.pow,a=o.Interpolation.Utils.Bernstein,l=0;l<=i;l++)r+=s(1-e,i-l)*s(e,l)*t[l]*a(i,l);return r},CatmullRom:function(t,e){var r=t.length-1,i=r*e,s=n.floor(i),a=o.Interpolation.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(s=n.floor(i=r*(1+e))),a(t[(s-1+r)%r],t[s],t[(s+1)%r],t[(s+2)%r],i-s)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[r]-(a(t[r],t[r],t[r-1],t[r-1],i-r)-t[r]):a(t[s?s-1:0],t[s],t[r<s+1?r:s+1],t[r<s+2?r:s+2],i-s)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=o.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var o=e;o>1;o--)n*=o;return t[e]=n,n}}(),CatmullRom:function(t,e,n,o,r){var i=.5*(n-t),s=.5*(o-e),a=r*r,l=r*a;return(2*e-2*n+i+s)*l+(-3*e+3*n-2*i-s)*a+i*r+e}}};var r=function(t,n){var o=this;o.slider="string"==typeof t?e.querySelector(t):t,o.next=function(){o.reset()},o.stop=function(){o.opts.isData=!1,o.reset()},o.eventList=[],o.initEventProgress=0,o.on=function(t,e){o.eventList.push(t),n[t+"Handle"]=e,setTimeout(function(){o.initEventProgress+=1,o.eventList.length==o.initEventProgress&&o.init(n)},0)}};r.prototype.init=function(r){var i=this;if(i.opts=i.utils.extend({scrollArea:i.slider,scrollAreaHeight:0,scrollCont:void 0,loading:!1,isLockLoad:!1,isLockRefresh:!1,isData:!0,direction:"up",scrollTop:0,scrollContentHeight:0,limitNo:0,threshold:50,distance:50,loadHandle:null,refreshHandle:null,refreshDOM:"",loadMoreDOM:""},r),i.utils.getScrollAreaHeight(i),"static"===i.utils.getCssProperty(i.opts.scrollArea,"position")&&(i.opts.scrollArea.style.position="relative"),i.moveEle="string"==typeof i.opts.scrollCont?e.querySelector(i.opts.scrollCont):i.opts.scrollCont,null!==i.opts.loadHandle&&(i.loadEle=e.createElement("div"),i.loadEle.innerHTML=i.opts.loadMoreDOM.pull2load,i.moveEle.appendChild(i.loadEle)),null!==i.opts.refreshHandle&&(i.refreshEle=e.createElement("div"),i.refreshEle.innerHTML=i.opts.refreshDOM.pull2refresh,i.opts.scrollArea===t?e.body.insertBefore(i.refreshEle,i.moveEle):i.opts.scrollArea.insertBefore(i.refreshEle,i.moveEle),i.refreshEle.style.visibility="hidden"),i.autoLoad(i),e.addEventListener("resize",function(){setTimeout(function(){i.utils.getScrollContentHeight(i),i.utils.getScrollAreaHeight(i),i.autoLoad(i)},0)},!1),i.transformVendor=i.utils.vendor("transform"),i.transitionVendor=i.utils.vendor("transition"),i.transformVendor!==!1?(i.animatePropertyName=i.utils.prefixStyle(i.transformVendor,"transform"),i.animatePropertyValue=function(t){return"translate3d(0px, "+t+"px, 0.01px)"},i.getAnimatePropertyValue=function(t){var e=/^.*translate3d\(0px\,\s+(\d+\.?\d?)px\,\s+0.01px\)$/i;return n.floor(t.match(e)[1])}):(i.animatePropertyName="top",i.animatePropertyValue=function(t){return t+"px"},i.getAnimatePropertyValue=function(t){return t.slice(0,-2)}),i.supportTransition=!1,i.transitionVendor!==!1){i.supportTransition=!0,i.transition=i.utils.prefixStyle(i.transitionVendor,"transition");var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",msTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};i.transEndEventNames=s[i.transition],i.moveEle.addEventListener(i.transEndEventNames,function(){this.style[i.transition]="",0==i.translateY&&(i.refreshEle.innerHTML=i.opts.refreshDOM.pull2refresh,i.triggerAutoLoad())},!1),i.animate=function(t,e){i.moveEle.style[i.animatePropertyName]=i.animatePropertyValue(e)}}else i.animate=function(t,e){function n(t){i.utils.rAF(n),o.update()}var r={y:t};new o.Tween(r).easing(o.Easing.Quadratic.Out).to({y:e},260).onUpdate(function(){i.moveEle.style[i.animatePropertyName]=i.animatePropertyValue(this.y)}).onComplete(function(t){0==t.y&&(i.refreshEle.innerHTML=i.opts.refreshDOM.pull2refresh,i.triggerAutoLoad())}).start();i.utils.rAF(n)};i.moveEle.style[i.animatePropertyName]=i.animatePropertyValue(0),i.moveEle.style.position="absolute",i.moveEle.style.top="0",i.translateY=0,i.touchmoveY=0;var a=!1;if("defineProperty"in Object)try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});t.addEventListener("test",null,l)}catch(t){}i.slider.addEventListener("touchstart",function(t){i.opts.loading||(i.touchesHandle(t),i.touchstartHandle(t))},!!a&&{passive:!0}),i.slider.addEventListener("touchmove",function(t){i.opts.loading||(i.touchesHandle(t),i.touchmoveHandle(t))},!!a&&{passive:!1}),i.slider.addEventListener("touchend",function(){i.opts.loading||i.touchendHandle()},!!a&&{passive:!0}),i.slider.addEventListener("scroll",function(){i.utils.getScrollAreaHeight(i),i.opts.limitNo=Number(i.opts.scrollContentHeight-i.opts.scrollAreaHeight),i.opts.scrollTop=i.utils.getScrollTop(i),i.opts.limitNo>0&&"up"==i.opts.direction&&null!==i.opts.loadHandle&&!i.opts.loading&&!i.opts.isLockLoad&&i.opts.limitNo-i.opts.threshold<=i.opts.scrollTop&&(i.lock("load"),i.triggerLoad())},!!a&&{passive:!0})},r.prototype.touchesHandle=function(t){t.touches=t.changedTouches},r.prototype.touchstartHandle=function(t){var e=this;!e.opts.loading&&e.opts.isData&&e.unlock("load"),e._startY=t.touches[0].pageY,e.opts.scrollTop=e.utils.getScrollTop(e),e.supportTransition&&(e.moveEle.style[e.transition]="")},r.prototype.touchmoveHandle=function(t){var e=this;e._curY=t.touches[0].pageY,e._moveY=e._curY-e._startY,e._moveY>0?e.opts.direction="down":e._moveY<0&&(e.opts.direction="up"),!e.opts.loading&&null!==e.opts.refreshHandle&&e.opts.scrollTop<=0&&!e.opts.isLockRefresh&&"down"==e.opts.direction&&(t.preventDefault(),e.touchmoveY<=e.opts.distance?e.touchmoveY=n.floor(.6*e._moveY):e.touchmoveY>e.opts.distance&&e.touchmoveY<=2*e.opts.distance?e.touchmoveY=n.floor(e.opts.distance+.5*(.6*e._moveY-e.opts.distance)):e.touchmoveY>2*e.opts.distance&&(e.touchmoveY=n.floor(2*e.opts.distance+.5*(e.opts.distance+.5*(.6*e._moveY-e.opts.distance)-2*e.opts.distance))),e.moveEle.style[e.animatePropertyName]=e.animatePropertyValue(e.touchmoveY),e.translateY=e.getAnimatePropertyValue(e.moveEle.style[e.animatePropertyName]),e.translateY>50?e.refreshEle.innerHTML=e.opts.refreshDOM.release2refresh:e.refreshEle.innerHTML=e.opts.refreshDOM.pull2refresh)},r.prototype.touchendHandle=function(){var t=this;if(t.opts.scrollTop=t.utils.getScrollTop(t),!(t.opts.scrollTop>0)){var e=0;t.translateY>t.opts.distance&&(e=50,t.refreshEle.innerHTML=t.opts.refreshDOM.loading,t.triggerRefresh()),t.supportTransition&&(t.moveEle.style[t.transition]="260ms ease-out"),t.animate(t.translateY,e),t.translateY=e,t.touchmoveY=e}},r.prototype.triggerAutoLoad=function(){var t=this;t.opts.isData&&setTimeout(function(){t.loadEle.innerHTML=t.opts.loadMoreDOM.pull2load,t.utils.getScrollContentHeight(t),t.autoLoad(t)},0)},r.prototype.autoLoad=function(){var t=this;t.opts.scrollContentHeight-t.opts.threshold>t.opts.scrollAreaHeight||null!==t.opts.loadHandle&&(t.opts.loading=!0,t.unlock("load"),t.triggerLoad())},r.prototype.triggerRefresh=function(){var t=this;t.opts.loading=!0,t.opts.refreshHandle(t.next,t.stop)},r.prototype.triggerLoad=function(){var t=this;t.opts.loading=!0,t.loadEle.innerHTML=t.opts.loadMoreDOM.loading,t.opts.loadHandle(t.next,t.stop)},r.prototype.lock=function(t){var e=this;"load"==t&&(e.opts.isLockLoad=!0)},r.prototype.unlock=function(t){var e=this;"load"==t&&(e.opts.isLockLoad=!1)},r.prototype.reset=function(){var t=this;(t.refreshEle.style.visibility="hidden")&&(t.refreshEle.style.visibility="visible"),t.opts.loading=!1,"up"==t.opts.direction?(t.loadEle.innerHTML=t.opts.loadMoreDOM.loadSuccess,t.triggerAutoLoad()):(t.opts.direction="up",t.refreshEle.innerHTML=t.opts.refreshDOM.refreshSuccess,t.supportTransition&&(t.moveEle.style[t.transition]="260ms ease-out"),setTimeout(function(){t.animate(t.translateY,0),t.translateY=0,t.touchmoveY=0},500))},r.prototype.utils={extend:function(t,e){for(var n in e)t[n]=e[n];return t},getScrollTop:function(n){var o=0;if(n.opts.scrollArea==t){var r=void 0!==t.pageYOffset,i="CSS1Compat"===(e.compatMode||"");o=r?t.pageYOffset:i?e.documentElement.scrollTop:e.body.scrollTop}else o=n.opts.scrollArea.scrollTop;return o},getScrollAreaHeight:function(e){e.opts.scrollArea==t?e.opts.scrollAreaHeight=t.innerHeight:e.opts.scrollAreaHeight=e.opts.scrollArea.clientHeight},getScrollContentHeight:function(t){t.opts.scrollContentHeight=n.floor(t.moveEle.scrollHeight)},getCssProperty:function(e,n){var o="getComputedStyle"in t?getComputedStyle(e):e.currentStyle,r=function(t){return"getPropertyValue"in o?o.getPropertyValue(t):o.getAttribute(t)};return r(n)},vendor:function(t){for(var n,o=e.createElement("div").style,t=t.slice(1),r=["t","webkitT","MozT","msT","OT"],i=0,s=r.length;i<s;i++)if(n=r[i]+t,n in o)return r[i].substr(0,r[i].length-1);return!1},prefixStyle:function(t,e){return t!==!1&&(""===t?e:t+e.charAt(0).toUpperCase()+e.substr(1))},rAF:function(e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)};return n(e)}},"undefined"!=typeof module&&module.exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):t.Slideload=r}(window,document,Math);